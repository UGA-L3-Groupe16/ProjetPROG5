COMP=arm-none-eabi-gcc
COMP-FLAGS=-mbig-endian -g -O2
LD=arm-none-eabi-gcc -mbig-endian -g -O2 -nostdlib -T ./linker_script -n --entry main -Wl,-EB

EXECUTABLES: exOP exCMP calc

all: $(EXECUTABLES)

exOP: exOP.o
	$(LD) -o $@ $^

exCMP: exCMP.o
	$(LD) -o $@ $^

calc: calc.o
	$(LD) -o $@ $^

%.o: %.s
	$(COMP) $(COMP-FLAGS) -c -o $@ $<

clean:
	rm -rf $(EXECUTABLES) $(EXECUTABLES).o
